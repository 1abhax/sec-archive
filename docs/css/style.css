/* ===== 全域背景 ===== */
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, Inter, sans-serif;
  background: #fafafa;
}
/* ===== 主容器 ===== */
.layout,
.archive-layout {
  display: grid;
  grid-template-columns: 260px 1fr 300px;
  height: 100vh;
  width: 100vw;
}

/* ===== 左側個人資料 ===== */
.profile {
  width:300px;
  background:white;
  padding:60px 40px;
  display:flex;
  flex-direction:column;
  align-items:center;
  text-align:center;
  border-right:1px solid #f0f0f0;
}

.avatar {
  width:150px;
  height:150px;
  border-radius:50%;
  object-fit:cover;
  margin-bottom:25px;
}

.profile h1 {
  font-size:22px;
  font-weight:600;
  margin:10px 0 6px;
}

.profile p {
  font-size:14px;
  color:#666;
}

.links {
  margin-top:30px;
}

.links a {
  display:inline-flex;
  align-items:center;
  gap:8px;
  text-decoration:none;
  color:#111;
  font-weight:500;
  font-size:14px;
}

.links a:hover {
  opacity:0.6;
}

/* GitHub icon */
.github-icon {
  width:18px;
  height:18px;
  fill:#111;
}

/* ===== 右側 Timeline ===== */
.timeline-wrap {
  flex:1;
  padding:80px 80px;
  overflow:auto;
}

.timeline-wrap h2 {
  font-size:26px;
  font-weight:600;
  margin-bottom:50px;
}

.timeline-item {
  padding:28px 32px;
  border-radius:18px;
  margin-bottom:35px;
  background:#f8f9fa;
  cursor:pointer;
  transition: all 0.25s ease;
}

.timeline-item:hover {
  transform:translateY(-4px);
  box-shadow:0 12px 30px rgba(0,0,0,0.06);
  background:#ffffff;
}

.tag {
  display:inline-block;
  padding:5px 14px;
  border-radius:20px;
  font-size:12px;
  background:#e5e7eb;
  color:#333;
  margin-bottom:12px;
}

.timeline-item h3 {
  margin:0 0 6px;
  font-size:18px;
  font-weight:600;
}

.timeline-item small {
  color:#777;
  font-size:13px;
}

/* ===== Archive Sidebar ===== */
#sidebar {
  width:280px;
  background:#fafafa;
  padding:50px 30px;
  overflow:auto;
  border-right:1px solid #eee;
}

.node {
  padding:6px 10px;
  cursor:pointer;
  border-radius:10px;
  font-size:14px;
  transition:0.2s ease;
}

.node:hover {
  background:#e9ecef;
}

.folder::before {
  content:"› ";
  transition: transform 0.3s ease;
  display:inline-block;
}

.folder.open::before {
  transform: rotate(90deg);
}
.file::before { content:"– "; }

.children {
  margin-left:18px;
  max-height:0;
  overflow:hidden;
  opacity:0;
  transition:
    max-height 0.35s cubic-bezier(.4,0,.2,1),
    opacity 0.25s ease;
}
.children.open {
  max-height:500px;
  opacity:1;
}

/* ===== Content 區 ===== */
#content {
  flex:1;
  padding:80px;
  overflow:auto;
}

#content h1 {
  font-size:28px;
  font-weight:600;
}

#content h2 {
  font-size:22px;
  margin-top:40px;
}

pre {
  background:#f4f5f7;
  padding:18px;
  border-radius:14px;
  overflow:auto;
}

/* ===== 微縮按壓動畫 ===== */
.timeline-item,
.node {
  transition:
    transform 0.18s cubic-bezier(.4,.0,.2,1),
    box-shadow 0.25s ease,
    background 0.25s ease;
}

.timeline-item:active,
.node:active {
  transform: scale(0.97);
}

.timeline-item:hover {
  transform: translateY(-3px);
}

.timeline-item:active {
  transform: translateY(0) scale(0.96);
}

/* ===== 右側 TOC ===== */
#toc {
  width:260px;
  background:#fafafa;
  padding:60px 30px;
  border-left:1px solid #eee;
  overflow:auto;
}

#toc h3 {
  font-size:16px;
  margin-bottom:20px;
}

.toc-item {
  font-size:14px;
  margin-bottom:10px;
  cursor:pointer;
  color:#555;
}

.toc-item:hover {
  color:#111;
}

/* 右側面板 */
#toc {
  background: #f7f8fa;
  padding: 20px;
  border-radius: 12px;
  min-width: 260px;
  font-size: 14px;
}

.challenge-item {
  padding: 8px 10px;
  margin-bottom: 6px;
  border-radius: 6px;
  cursor: pointer;
  transition: 0.2s;
}

.challenge-item:hover {
  background: #e6f0ff;
  color: #0066ff;
}

.challenge-item.active {
  background: #0066ff;
  color: white;
}

#content {
  font-size: 17px;
  line-height: 1.8;
  -webkit-font-smoothing: antialiased;
  max-width: 900px;
  margin: auto;
}

#content h1, #content h2, #content h3 {
  font-weight: 600;
  margin-top: 1.8em;
}

#content code {
  background: #f3f4f6;
  padding: 3px 6px;
  border-radius: 6px;
}

.topbar {
  height: 50px;
  display: flex;
  justify-content: space-between;
  padding: 0 20px;
  align-items: center;
  background: white;
  border-bottom: 1px solid #eee;
}

body.dark {
  background: #121212;
  color: #eee;
}

body.dark #content {
  background: #1e1e1e;
}

.children {
  display: none;
}
.children.open {
  display: block;
}