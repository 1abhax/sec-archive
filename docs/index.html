<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>1abhax CTF Writeups</title>

  <link rel="stylesheet" href="css/style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet" />
</head>

<body>
  <div id="bg"></div>
  <div id="bgOverlay"></div>

  <header id="topbar">
    <div class="brand" id="homeBtn" title="Back to Home">
      <div class="logo">1abhax</div>
      <div class="subtitle">CTF Writeups Archive</div>
    </div>

    <div class="topbar-actions">
      <div id="crumbs" class="crumbs"></div>

      <button id="toggleTheme" class="icon-btn" title="Toggle theme" aria-label="Toggle theme">◐</button>
      <button id="toggleToc" class="icon-btn" title="Toggle TOC" aria-label="Toggle TOC">TOC</button>

      <a id="repoLink" class="icon-btn link-btn" title="Open GitHub repo" target="_blank" rel="noreferrer" aria-label="GitHub">
        <!-- GitHub icon -->
        <svg width="18" height="18" viewBox="0 0 24 24" aria-hidden="true">
          <path fill="currentColor" d="M12 .5C5.7.5.5 5.7.5 12A11.5 11.5 0 0 0 8 23c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.4-4-1.4-.5-1.2-1.2-1.5-1.2-1.5-1-.7.1-.7.1-.7 1.1.1 1.7 1.1 1.7 1.1 1 .1.6 1.8 2.6 1.2.1-.8.4-1.2.7-1.5-2.7-.3-5.5-1.3-5.5-6A4.7 4.7 0 0 1 4.5 7c-.1-.3-.5-1.6.1-3.2 0 0 1-.3 3.3 1.2a11.5 11.5 0 0 1 6 0C16.2 3.5 17.2 3.8 17.2 3.8c.6 1.6.2 2.9.1 3.2a4.7 4.7 0 0 1 1.2 3.3c0 4.7-2.8 5.7-5.5 6 .4.3.8 1 .8 2v3c0 .3.2.7.8.6A11.5 11.5 0 0 0 23.5 12C23.5 5.7 18.3.5 12 .5Z"/>
        </svg>
      </a>
    </div>
  </header>

  <main id="shell">
    <!-- Home (no sidebar) -->
    <section id="homeView" class="view">
      <div class="card hero">
        <div class="hero-title">Writeups</div>
        <div class="hero-subtitle">選擇一個活動（CTF）進入分類與題目。</div>
        <div class="hero-meta" id="homeMeta"></div>
      </div>

      <div class="grid" id="eventGrid"></div>
    </section>

    <!-- Event view (sidebar + content + optional toc) -->
    <section id="eventView" class="view hidden">
      <div id="layout">
        <aside id="sidebar" aria-label="Event sidebar">
          <div class="sidebar-head">
            <div class="sidebar-title" id="sidebarTitle">Browse</div>

            <div class="search-wrap">
              <input id="searchBox" type="search" placeholder="Search..." autocomplete="off" />
              <button id="clearSearch" class="mini-btn" title="Clear">✕</button>
            </div>
          </div>

          <div id="tree" class="tree"></div>
        </aside>

        <section id="contentWrap">
          <article id="content" class="card content-card">
            <div class="welcome">
              <div class="welcome-title">選擇左側分類/檔案</div>
              <div class="welcome-subtitle">支援 .md / .py / .txt / 無副檔名 / 圖片 / .pdf / .zip（顯示不了就下載）。</div>
            </div>
          </article>
        </section>

        <aside id="toc" aria-label="Table of contents">
          <div class="toc-card card">
            <!-- 移除 "On this page" 字樣（你要求刪掉） -->
            <div id="tocMeta" class="toc-meta"></div>
            <nav id="tocBody" class="toc-body"></nav>
          </div>
        </aside>
      </div>
    </section>
  </main>

  <div id="toast" class="toast" role="status" aria-live="polite"></div>
  <div id="tooltip" class="tooltip hidden"></div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="js/main.js"></script>
</body>
</html>